function trx_demo_init(){var t=jQuery(".trx_demo_panels"),a=t.hasClass("trx_demo_panels_with_multi_filters"),r=(t.find('.trx_demo_tabs a:not([data-type="link"])').on("click",function(e){var t=jQuery(this),a=t.parents(".trx_demo_panels"),r=a.find(t.attr("href"));return r.hasClass("trx_demo_images_init")||r.addClass("trx_demo_images_init").find('[data-style^="background-image"]').each(function(){var e=jQuery(this);e.attr("style",e.data("style")).removeAttr("data-style")}),a.hasClass("open")?t.hasClass("trx_demo_tab_active")||a.find(".trx_demo_panel_active").fadeOut(function(){jQuery(this).removeClass("trx_demo_panel_active"),r.fadeIn().addClass("trx_demo_panel_active")}):(t.hasClass("trx_demo_tab_active")||(a.find(".trx_demo_panel_active").hide(),r.show().addClass("trx_demo_panel_active")),a.addClass("open"),jQuery("html").addClass("trx_demo_panels_open")),t.hasClass("trx_demo_tab_active")||(t.siblings().removeClass("trx_demo_tab_active"),t.addClass("trx_demo_tab_active")),e.preventDefault(),!1}),t.find(".trx_demo_button_close,.trx_demo_panels_mask").on("click",function(e){return t.removeClass("open").find(".trx_demo_panel_active").fadeOut(function(){jQuery(this).removeClass("trx_demo_panel_active")}).end().find(".trx_demo_tab_active").removeClass("trx_demo_tab_active"),jQuery("html").removeClass("trx_demo_panels_open"),e.preventDefault(),!1}),t.find(".trx_demo_panel_list_item[data-body-class] a").on("click",function(e){return jQuery("body").toggleClass(jQuery(this).parents(".trx_demo_panel_list_item").data("body-class")),e.preventDefault(),!1}),t.find(".trx_demo_subscribe_email").on("keypress",function(e){jQuery(this).removeClass("trx_demo_field_error")}),t.find(".trx_demo_subscribe_button").on("click",function(e){return jQuery(this).parents("form").submit(),e.preventDefault(),!1}),t.find(".trx_demo_subscribe form").on("submit",function(e){var r=jQuery(this),t=r.find(".trx_demo_subscribe_email"),a=t.val(),s=r.attr("action"),i=r.find('[name="trx_demo_subscribe_nonce"]').val(),_=new RegExp("^([a-z0-9_\\-]+\\.)*[a-z0-9_\\-]+@[a-z0-9_\\-]+(\\.[a-z0-9_\\-]+)*\\.[a-z]{2,6}$");return""===s||""===a||a.length<7||!_.test(a)?t.addClass("trx_demo_field_error"):(r.addClass("trx_demo_loading"),jQuery.post(s,{action:"trx_demo_subscribe",nonce:i,email:a}).done(function(t){var a={};try{a=JSON.parse(t)}catch(e){a={error:TRX_DEMO_STORAGE.msg_ajax_error},console.log(t)}r.removeClass("trx_demo_loading");t=r.siblings(".trx_demo_message_box").removeClass("trx_demo_message_box_error").removeClass("trx_demo_message_box_success");""===a.error?(r.get(0).reset(),t.addClass("trx_demo_message_box_success").html(a.success)):t.addClass("trx_demo_message_box_error").html(a.error),t.fadeIn().delay(5e3).fadeOut()})),e.preventDefault(),!1}),t.find(".trx_demo_panel_filters_form").on("submit",function(){return!1}),t.find(".trx_demo_panel_filters_search").on("keyup",function(e){s(jQuery(this).parents(".trx_demo_panel"),!1)}),t.find(".trx_demo_panel_filters_list").on("click","a",function(e){var t=jQuery(this).parent();return a?(t.toggleClass("filter_active"),t.data("filter")&&"all"==t.data("filter").toLowerCase()?t.hasClass("filter_active")&&t.siblings().removeClass("filter_active"):t.parent().find('[data-filter="All"]').removeClass("filter_active"),0===t.parent().find(".filter_active").length&&t.parent().find('[data-filter="All"]').addClass("filter_active")):(t.siblings().removeClass("filter_active"),t.addClass("filter_active")),s(jQuery(this).parents(".trx_demo_panel"),!0),e.preventDefault(),!1}),!1),d=300;function s(e,i){var _,n,o,l;r?setTimeout(function(){s(e,i)},d+10):(r=!0,_=e.find(".trx_demo_panel_filters_search").val(),n="",o=e.find(".trx_demo_panel_list"),l=0,a?e.find(".trx_demo_panel_filters_list_item.filter_active").each(function(){jQuery(this).data("filter")&&(n+=(n?",":"")+jQuery(this).data("filter").trim())}):n=(n=e.find(".trx_demo_panel_filters_list_item.filter_active").eq(0).data("filter")||"").trim(),i&&(l=o.css("min-height"),o.css("min-height",e.outerHeight()+"px"),e.find("[data-filter-value]:visible").stop().fadeOut(d)),_=_.toLowerCase(),n=n.toLowerCase(),setTimeout(function(){var s=!0;e.find((""!=n?"[data-filter-value]":"[data-search-value]")+(i?":hidden":"")).each(function(){var t,e=jQuery(this),a=e.data("filter-value")||"",r=e.data("search-value")||"";(""===_||0<=r.toLowerCase().indexOf(_))&&("all"==n||""==n||(r=n,a=a.trim().toLowerCase(),r=r.split(","),t=a.split(","),0<r.filter(function(e){return-1!==t.indexOf(e)}).length))?(e.stop().fadeIn(d),i&&s&&(s=!1,o.css("min-height",l))):!i&&e.is(":visible")&&e.stop().fadeOut(d)}),setTimeout(function(){r=!1},d+10)},i?d+10:0))}var i=jQuery("body").attr("class").match(/\bskin_\S+/);i&&(i=i.toString().substring(5).replace(/-/g," "),t.find(".trx_demo_panel_skins .trx_demo_panel_list_item").each(function(){var e=jQuery(this);e.find(".trx_demo_panel_list_item_title > a").text().trim().toLowerCase()==i&&e.addClass("trx_demo_panel_list_item_active")}))}jQuery(document).ready(function(){0<TRX_DEMO_STORAGE.tabs_delay&&""!=TRX_DEMO_STORAGE.tabs_layout?setTimeout(function(){jQuery("body").append(TRX_DEMO_STORAGE.tabs_layout),trx_demo_init()},TRX_DEMO_STORAGE.tabs_delay):trx_demo_init()});